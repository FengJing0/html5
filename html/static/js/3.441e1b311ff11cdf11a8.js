webpackJsonp([3],{514:function(t,e,r){function s(t){r(695)}var a=r(76)(r(671),r(708),s,null,null);t.exports=a.exports},521:function(t,e,r){function s(t){r(524)}var a=r(76)(r(522),r(525),s,null,null);t.exports=a.exports},522:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{headers:{},items:{},actionsVisible:{default:!0},editBtnVisible:{default:!0},removeBtnVisible:{default:!0}},data:function(){return{sortBy:null,sortOrder:null}},methods:{sort:function(t){if(!1!==t.sortAble){var e=this.sortBy,r=this.sortOrder;t.value===e?this.sortOrder="desc"===r?"asc":"desc":(this.sortBy=t.value,this.sortOrder="desc"),this.items.sort(function(e,r){var s=e[t.value],a=r[t.value];return s<a?-1:s===a?0:1}),"desc"===this.sortOrder&&this.items.reverse()}},sortClass:function(t){if(!1===t.sortAble)return"";var e=this.sortBy,r=this.sortOrder;return t.value===e?" active "+r:""}}}},523:function(t,e,r){e=t.exports=r(508)(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Datatable.vue",sourceRoot:""}])},524:function(t,e,r){var s=r(523);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);r(509)("d270c356",s,!0,{})},525:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"table__overflow elevation-1"},[r("table",{staticClass:"datatable table"},[t._t("thead",[r("thead",[r("tr",t._l(t.headers,function(e){return"actions"!==e.value||t.actionsVisible?r("th",{staticClass:"column",class:[("right"===e.align?"text-xs-right":"text-xs-left")+t.sortClass(e),{sortable:!1!==e.sortAble}],attrs:{width:e.width},on:{click:function(r){return t.sort(e)}}},[t._v("\n            "+t._s(e.text)+"\n            "),!1!==e.sortAble?r("i",{staticClass:"material-icons icon"},[t._v("arrow_upward")]):t._e()]):t._e()}),0)])]),t._v(" "),t._t("tbody",[r("tbody",t._l(t.items,function(e,s){return r("tr",[t._l(t.headers,function(s){return r("td",{key:s.value,class:"right"===s.align?"text-xs-right":"text-xs-left"},[s.type?"default"===s.type?r("input",{directives:[{name:"model",rawName:"v-model",value:e[s.value],expression:"row[col.value]"}],domProps:{value:e[s.value]},on:{input:function(r){r.target.composing||t.$set(e,s.value,r.target.value)}}}):"number"===s.type?r("input",{directives:[{name:"model",rawName:"v-model",value:e[s.value],expression:"row[col.value]"}],attrs:{type:"number"},domProps:{value:e[s.value]},on:{input:function(r){r.target.composing||t.$set(e,s.value,r.target.value)}}}):"select"===s.type?r("div",{staticClass:"select-cell"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e[s.value],expression:"row[col.value]"}],on:{change:function(r){var a=Array.prototype.filter.call(r.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,s.value,r.target.multiple?a:a[0])}}},t._l(s.options,function(e){return r("option",{domProps:{value:e.value}},[t._v("\n                  "+t._s(e.text)+"\n                ")])}),0),t._v(" "),r("v-icon",[t._v("arrow_drop_down")])],1):t._e():r("span",[t._v(t._s(e[s.value]))])])}),t._v(" "),t.actionsVisible?r("td",[t.editBtnVisible?r("v-btn",{attrs:{primary:"",small:""},nativeOn:{click:function(r){return t.$emit("edit",{row:e,index:s})}}},[t._v("Edit")]):t._e(),t._v(" "),t.removeBtnVisible?r("v-btn",{attrs:{error:"",small:""},nativeOn:{click:function(r){return t.$emit("remove",{row:e,index:s})}}},[t._v("Remove")]):t._e()],1):t._e()],2)}),0)])],2)])},staticRenderFns:[]}},665:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r(521),a=r.n(s);e.default={extends:a.a,props:["program"]}},671:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r(212),a=r.n(s),n=r(142),o=r.n(n),i=r(214),l=r.n(i),c=r(700),u=r.n(c),v=r(521),m=r.n(v);e.default={components:{Datatable:u.a,Datatable2:m.a},data:function(){return{self:this,title:"Program",loading:!0,programs:[],statements:["COMMENT","DECLARE","IF","THEN","ELSE","ELSE IF","DO","LBL"].map(function(t){return{text:t,value:t}}).concat({text:"",value:""}),subr:null,headers:[{text:"No",value:"no",align:"left",width:"50px",sortAble:!1,editAble:!1},{text:"Statement",value:"stmt",align:"left",width:"50px",sortAble:!1},{text:"Expression",value:"expr",align:"left",sortAble:!1},{text:"Actions",value:"actions",align:"left",width:"270px",sortAble:!1}],rows:[],saving:!1,succeeded:!1,removing:!1,compiling:!1,newProgram:{visible:!1,name:null},hoveringRow:null,focusingRow:null,searchText:null,headers2:[{text:"Program name",value:"programName",align:"left",width:"auto",sortAble:!1},{text:"Line number",value:"line",align:"left",width:"50px",sortAble:!1},{text:"Start at character position",value:"chnu",align:"left",width:"50px",sortAble:!1},{text:"Description",value:"desc",align:"left",sortAble:!1}],rows2:[],searching:!1,searchDialog:!1,searchMode:"Subroutine",searchMULC:!1,searchMWW:!1}},computed:{program:function(){var t=this;return this.programs&&this.programs.find(function(e){return e.subr===t.subr})}},watch:{subr:function(){var t=this;this.subr?this.$newService({func:19,subr:this.subr}).then(function(e){t.rows=e.rows}):this.rows=[]},rows:{immediate:!0,handler:function(){var t=this;this.rows.forEach(function(e,r){t.$set(e,"no",r+1),e.stmt.startsWith("LBL")?(t.$set(e,"stmtType","LBL"),t.$set(e,"lbl",parseInt(e.stmt.replace(/^LBL/,"")))):(t.$set(e,"stmtType",e.stmt),t.$set(e,"lbl",0))})}}},created:function(){this.getData()},mounted:function(){var t=this;this.$nextTick(function(){document.title=t.title,document.addEventListener("keydown",t.keydownEnter)})},beforeDestroy:function(){document.removeEventListener("keydown",this.keydownEnter)},methods:{isServiceSuccessful:function(t,e){return!(!t||t.errc>0)||(this.$alert(t&&t.errt||e),console.log(t),!1)},getData:function(){var t=this;return this.$newService({func:18}).then(function(e){t.programs=e.rows})},saveNewProgram:function(){var t=this,e=(this.newProgram.name||"").trim();if(!e)return void this.$alert("Name is required");var r=(Math.max.apply(Math,l()(this.programs.map(function(t){return t.subr})))||0)+1,s={func:20,csub:1,subr:r,name:e,nrow:0,rows:[]};this.saving=!0,this.$newService(s).then(function(s){t.isServiceSuccessful(s,"Save failed")&&(t.programs.push({name:e,subr:r}),t.newProgram.visible=!1,t.newProgram.name=null),t.saving=!1})},newItem:function(){var t={};this.headers.forEach(function(e){t[e.value]=""}),t.stmt="",t.stmtType="",t.lbl=0,t.saved=!1,this.rows.push(t)},insert:function(t){var e={};this.headers.forEach(function(t){e[t.value]=null}),e.stmt="",e.lbl=0,this.rows.splice(t+1,0,e)},removeEmptyRows:function(){var t=[],e=!0,r=!1,s=void 0;try{for(var n,i=o()(this.rows);!(e=(n=i.next()).done);e=!0){var l=n.value;a()(l).find(function(t){return null!=t&&""!==t})&&t.push(l)}}catch(t){r=!0,s=t}finally{try{!e&&i.return&&i.return()}finally{if(r)throw s}}this.rows=t},validateRows:function(t){var e=!0,r=!0,s=!1,a=void 0;try{for(var n,i=o()(this.rows);!(r=(n=i.next()).done);r=!0){var l=n.value,c=!0,u=!0,v=!1,m=void 0;try{for(var d,p=o()(this.headers);!(u=(d=p.next()).done);u=!0){var f=d.value;if("actions"!==f.value&&"stmt"!==f.value){var h=l[f.value];if(null==h||""===h){c=!1;break}}}}catch(t){v=!0,m=t}finally{try{!u&&p.return&&p.return()}finally{if(v)throw m}}if(!c){e=!1;break}}}catch(t){s=!0,a=t}finally{try{!r&&i.return&&i.return()}finally{if(s)throw a}}return e||t||this.$alert("Empty cell is not allowed, please check your input"),e},getDataRows:function(t){var e=this,r=[];return(t||this.rows).forEach(function(t){var s={};e.headers.filter(function(t){return"no"!==t.value&&"actions"!==t.value}).forEach(function(e){s[e.value]="number"===e.type?parseFloat(t[e.value]):t[e.value]}),r.push(s)}),r},save:function(){var t=this;this.rows.forEach(function(t){t.saved=!0,t.stmt="LBL"===t.stmtType?t.stmtType+t.lbl:t.stmtType});var e={func:20,csub:0,subr:this.program.subr,name:this.program.name,nrow:this.rows.length,rows:this.getDataRows()};this.saving=!0,this.$newService(e).then(function(e){t.isServiceSuccessful(e,"Save failed"),t.saving=!1})},remove:function(t,e){this.rows.splice(e,1)},removeProgram:function(){var t=this;this.$confirm("Are you sure to remove the program?").then(function(){var e={func:21,subr:t.program.subr};t.removing=!0,t.$newService(e).then(function(e){t.isServiceSuccessful(e,"Remove failed")?(t.subr=null,t.getData().then(function(){t.removing=!1})):t.removing=!1})})},compile:function(){var t=this,e={func:22,nrow:this.rows.length,rows:this.getDataRows()};this.compiling=!0,this.$newService(e).then(function(e){t.isServiceSuccessful(e,"Compile failed"),t.compiling=!1})},exprInputFocus:function(t,e){this.focusingInput=t.target,this.focusingInputRow=e,this.focusingRow=e},exprInputBlur:function(){this.focusingInput=null,this.focusingInputRow=null,this.focusingRow=null},keydownEnter:function(t){var e=this;if("Enter"===t.key){var r=this.focusingRow||this.hoveringRow;if(r){var s=this.focusingInput,a=this.focusingInputRow,n=void 0;if(s){var o=s.selectionStart,i=s.selectionEnd,l=a.expr;o===i?(a.expr=l.substr(0,o),n=l.substr(o)):(a.expr=l.substr(0,o)+l.substr(i),n=l.substr(o,i)),this.$nextTick(function(){var t=e.rows.indexOf(r)+1,s=e.rows[t];s.expr=n;var a=document.querySelector(".program-table .row-"+s.no+" input.expr");a.focus(),setTimeout(function(){a.setSelectionRange(0,0)},50)})}this.insert(this.rows.indexOf(r))}}},search:function(){var t=this;if(this.searchText){var e={func:23,srhm:this.searchMode.toLowerCase(),upca:this.searchMULC?"1":"0",wwrd:this.searchMWW?"1":"0",srhs:this.searchText||""};this.searching=!0,this.$newService(e).then(function(e){t.isServiceSuccessful(e,"Search failed")&&(t.addProgramNameToRows(e.rows),t.rows2=e.rows,0===t.rows2.length&&t.$alert("No data found")),t.searching=!1})}},addProgramNameToRows:function(t){var e={};this.programs.forEach(function(t){e[t.subr]=t.name}),t.forEach(function(t){t.programName=e[t.subr]})}}}},677:function(t,e,r){e=t.exports=r(508)(!0),e.push([t.i,"table.table thead th>div.custom-select{width:auto}.custom-select{display:inline-block;position:relative;cursor:pointer}.custom-select select{padding-right:10px}.custom-select .icon{position:absolute;top:-2.5px;right:-5px}","",{version:3,sources:["/home/neuron/build/html/src/components/ProgramDatatable.vue"],names:[],mappings:"AACA,uCACE,UAAY,CACb,AACD,eACE,qBAAsB,AACtB,kBAAmB,AACnB,cAAgB,CACjB,AACD,sBACI,kBAAoB,CACvB,AACD,qBACI,kBAAmB,AACnB,WAAY,AACZ,UAAY,CACf",file:"ProgramDatatable.vue",sourcesContent:["\ntable.table thead th > div.custom-select {\n  width: auto;\n}\n.custom-select {\n  display: inline-block;\n  position: relative;\n  cursor: pointer;\n}\n.custom-select select {\n    padding-right: 10px;\n}\n.custom-select .icon {\n    position: absolute;\n    top: -2.5px;\n    right: -5px;\n}\n"],sourceRoot:""}])},683:function(t,e,r){e=t.exports=r(508)(!0),e.push([t.i,".program-table table{border-collapse:separate}.program-table select.lbl{width:23px}.program-table input.lbl{width:30px}","",{version:3,sources:["/home/neuron/build/html/src/views/Program.vue"],names:[],mappings:"AACA,qBACE,wBAA0B,CAC3B,AACD,0BACE,UAAY,CACb,AACD,yBACE,UAAY,CACb",file:"Program.vue",sourcesContent:["\n.program-table table {\n  border-collapse: separate;\n}\n.program-table select.lbl {\n  width: 23px;\n}\n.program-table input.lbl {\n  width: 30px;\n}\n"],sourceRoot:""}])},689:function(t,e,r){var s=r(677);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);r(509)("001b6bbc",s,!0,{})},695:function(t,e,r){var s=r(683);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);r(509)("26d6ceb2",s,!0,{})},700:function(t,e,r){function s(t){r(689)}var a=r(76)(r(665),r(703),s,null,null);t.exports=a.exports},703:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"table__overflow elevation-1"},[r("table",{staticClass:"datatable table"},[t._t("thead",[r("thead",[r("tr",t._l(t.headers,function(e){return r("th",{staticClass:"column",class:[("right"===e.align?"text-xs-right":"text-xs-left")+t.sortClass(e),{sortable:!1!==e.sortAble}],attrs:{width:e.width},on:{click:function(r){return t.sort(e)}}},[r("span",[t._v(t._s(e.text))]),t._v(" "),!1!==e.sortAble?r("i",{staticClass:"material-icons icon"},[t._v("arrow_upward")]):t._e()])}),0)])]),t._v(" "),t._t("tbody",[r("tbody",t._l(t.items,function(e,s){return r("tr",[t._l(t.headers,function(s){return r("td",{key:s.value,class:"right"===s.align?"text-xs-right":"text-xs-left"},[t._v("\n            "+t._s(e[s.value])+"\n          ")])}),t._v(" "),r("td",[r("v-btn",{attrs:{flat:"",danger:""},nativeOn:{click:function(r){return t.$emit("remove",{row:e,index:s})}}},[t._v("Remove")])],1)],2)}),0)])],2)])},staticRenderFns:[]}},708:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{staticClass:"ma-3 program",attrs:{row:"",wrap:""}},[r("v-flex",{staticStyle:{"margin-bottom":"-30px"}},[r("div",{staticClass:"mr-3",staticStyle:{width:"250px"}},[r("v-select",{attrs:{items:t.programs,"item-text":"name","item-value":"subr",label:"Program"},model:{value:t.subr,callback:function(e){t.subr=e},expression:"subr"}})],1),t._v(" "),r("div",{staticClass:"flex flex-align-center",staticStyle:{"padding-bottom":"20px"}},[t.program?[r("v-btn",{attrs:{primary:"",dark:"",loading:t.compiling,disabled:t.compiling},on:{click:t.compile}},[t._v("\n          Compile\n          "),r("span",{staticClass:"loader",attrs:{slot:"loader"},slot:"loader"},[r("v-icon",{attrs:{light:""}},[t._v("cached")])],1)]),t._v(" "),r("v-btn",{attrs:{primary:"",dark:"",loading:t.saving,disabled:t.saving},on:{click:t.save}},[t._v("\n          Save\n          "),r("span",{staticClass:"loader",attrs:{slot:"loader"},slot:"loader"},[r("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])]:t._e(),t._v(" "),r("v-dialog",{attrs:{width:"1000",persistent:""},model:{value:t.searchDialog,callback:function(e){t.searchDialog=e},expression:"searchDialog"}},[r("v-btn",{attrs:{slot:"activator"},slot:"activator"},[t._v("Search")]),t._v(" "),r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("Search")]),t._v(" "),r("v-card-text",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",[r("form",{staticClass:"w-100",on:{submit:function(e){return e.preventDefault(),t.search(e)}}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs6:""}},[r("v-text-field",{attrs:{label:"Keyword",type:"text",rules:[t.$store.state.rules.required]},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}})],1),t._v(" "),r("v-flex",{attrs:{xs6:""}},[r("v-select",{attrs:{items:["Subroutine","Program","Main","Manual","Auto"],label:"Search mode",bottom:""},model:{value:t.searchMode,callback:function(e){t.searchMode=e},expression:"searchMode"}})],1),t._v(" "),r("v-flex",{attrs:{xs4:""}},[r("v-checkbox",{attrs:{label:"Match upper lower case"},model:{value:t.searchMULC,callback:function(e){t.searchMULC=e},expression:"searchMULC"}})],1),t._v(" "),r("v-flex",{attrs:{xs8:""}},[r("v-checkbox",{attrs:{label:"Match whole word"},model:{value:t.searchMWW,callback:function(e){t.searchMWW=e},expression:"searchMWW"}})],1),t._v(" "),r("v-flex",{attrs:{xs4:""}},[r("v-btn",{attrs:{type:"submit",block:"",loading:t.searching,disabled:t.searching}},[t._v("\n                        Search\n                        "),r("span",{staticClass:"loader",attrs:{slot:"loader"},slot:"loader"},[r("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)],1)],1)]),t._v(" "),r("v-flex",{staticClass:"mt-2",attrs:{xs12:""}},[r("Datatable2",{staticClass:"elevation-1",attrs:{headers:t.headers2,items:t.rows2,actionsVisible:!1}})],1)],1)],1),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{warning:""},nativeOn:{click:function(e){t.searchDialog=!1}}},[t._v("Close")])],1)],1)],1),t._v(" "),t.program?r("v-btn",{staticClass:"ml-0",attrs:{error:"",dark:""},on:{click:t.removeProgram}},[t._v("\n        Remove Program\n      ")]):t._e(),t._v(" "),r("v-dialog",{attrs:{persistent:""},model:{value:t.newProgram.visible,callback:function(e){t.$set(t.newProgram,"visible",e)},expression:"newProgram.visible"}},[r("v-btn",{attrs:{slot:"activator"},slot:"activator"},[t._v("New Program")]),t._v(" "),r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("New Program")]),t._v(" "),r("v-card-text",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",[r("form",{on:{submit:function(e){return e.preventDefault(),t.saveNewProgram(e)}}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Name",type:"text",rules:[t.$store.state.rules.required]},model:{value:t.newProgram.name,callback:function(e){t.$set(t.newProgram,"name",e)},expression:"newProgram.name"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:""}},[r("v-btn",{attrs:{type:"submit",block:"",loading:t.saving,disabled:t.saving}},[t._v("\n                        Save\n                        "),r("span",{staticClass:"loader",attrs:{slot:"loader"},slot:"loader"},[r("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)],1)],1)])],1)],1),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{warning:""},nativeOn:{click:function(e){t.newProgram.visible=!1}}},[t._v("Close")])],1)],1)],1),t._v(" "),t.program?r("v-btn",{on:{click:t.newItem}},[t._v("New Row")]):t._e()],2)]),t._v(" "),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"w-100"},[r("Datatable",{staticClass:"elevation-1 program-table",attrs:{headers:t.headers,items:t.rows,program:t.self}},[r("tbody",{attrs:{slot:"tbody"},slot:"tbody"},t._l(t.rows,function(e,s){return r("tr",{class:"row-"+e.no,on:{mouseenter:function(r){t.hoveringRow=e},mouseleave:function(e){t.hoveringRow=null}}},t._l(t.headers,function(a){return r("td",{staticClass:"text-xs-left"},["actions"!==a.value?[!1!==a.editAble?["number"===a.type?r("input",{directives:[{name:"model",rawName:"v-model",value:e[a.value],expression:"row[col.value]"}],attrs:{type:"number"},domProps:{value:e[a.value]},on:{input:function(r){r.target.composing||t.$set(e,a.value,r.target.value)}}}):"stmt"===a.value?[r("select",{directives:[{name:"model",rawName:"v-model",value:e.stmtType,expression:"row.stmtType"}],class:{lbl:"LBL"===e.stmtType},attrs:{name:""},on:{focus:function(r){t.focusingRow=e},blur:function(e){t.focusingRow=null},change:function(r){var s=Array.prototype.filter.call(r.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"stmtType",r.target.multiple?s:s[0])}}},t._l(t.statements,function(e){return r("option",{domProps:{value:e.value}},[t._v("\n                        "+t._s(e.text)+"\n                      ")])}),0),t._v(" "),"LBL"===e.stmtType?r("input",{directives:[{name:"model",rawName:"v-model",value:e.lbl,expression:"row.lbl"}],staticClass:"lbl",attrs:{type:"number"},domProps:{value:e.lbl},on:{focus:function(r){t.focusingRow=e},blur:function(e){t.focusingRow=null},input:function(r){r.target.composing||t.$set(e,"lbl",r.target.value)}}}):t._e()]:r("input",{directives:[{name:"model",rawName:"v-model",value:e[a.value],expression:"row[col.value]"}],staticClass:"expr",attrs:{type:"text"},domProps:{value:e[a.value]},on:{focus:function(r){return t.exprInputFocus(r,e)},blur:t.exprInputBlur,input:function(r){r.target.composing||t.$set(e,a.value,r.target.value)}}})]:r("span",[t._v(t._s(e[a.value]))])]:[r("v-btn",{staticStyle:{margin:"3px"},attrs:{error:"",small:""},on:{click:function(r){return t.remove(e,s)}}},[t._v("\n                  Remove\n                ")]),t._v(" "),r("v-btn",{staticStyle:{margin:"1px"},attrs:{small:""},on:{click:function(e){return t.insert(s)}}},[t._v("\n                  Insert\n                ")])]],2)}),0)}),0)])],1)])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=3.441e1b311ff11cdf11a8.js.map