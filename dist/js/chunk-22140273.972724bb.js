(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22140273","chunk-2d228c8f"],{"0766":function(e,t,l){"use strict";l.r(t);var n=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("Container",{attrs:{type:"card-full",scorll:!1}},[l("span",{staticClass:"dd-title"},[e._v("Event Setup")]),l("div",{staticClass:"row dd-mt"},[l("el-button",{on:{click:e.handleSubmit}},[e._v("submit")]),l("el-button",{attrs:{type:"primary"},on:{click:e.addEvent}},[e._v("Created")]),l("el-button",{attrs:{type:"danger"},on:{click:e.handleDelete}},[e._v("Delete")])],1),l("EventTable",{attrs:{showBtn:!0,eventList:e.msgd},model:{value:e.multipleSelection,callback:function(t){e.multipleSelection=t},expression:"multipleSelection"}}),l("el-dialog",{attrs:{title:"Event Setup",visible:e.dialogTableVisible},on:{closed:e.close,"update:visible":function(t){e.dialogTableVisible=t}}},[l("el-form",{ref:"eventForm",attrs:{model:e.eventForm,rules:e.eventFormRules,"label-width":"120px"}},[l("el-form-item",{attrs:{label:"Object1",prop:"sobj"}},[l("el-select",{model:{value:e.eventForm.sobj,callback:function(t){e.$set(e.eventForm,"sobj",t)},expression:"eventForm.sobj"}},e._l(e.objectList,(function(e){return l("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1)],1),l("el-form-item",{attrs:{label:"Attribute1",prop:"satt"}},[l("el-select",{model:{value:e.eventForm.satt,callback:function(t){e.$set(e.eventForm,"satt",t)},expression:"eventForm.satt"}},e._l(e.filterAttrList(e.eventForm.sobj),(function(e){return l("el-option",{key:e+"satt",attrs:{label:e,value:e}})})),1)],1),l("el-form-item",{attrs:{label:"Type",prop:"msgt"}},[l("el-select",{model:{value:e.eventForm.msgt,callback:function(t){e.$set(e.eventForm,"msgt",t)},expression:"eventForm.msgt"}},e._l(e.Operator,(function(e){return l("el-option",{key:e.val,attrs:{label:e.val,value:e.val}})})),1)],1),l("el-form-item",{attrs:{label:"Object2",prop:"cobj"}},[l("el-select",{model:{value:e.eventForm.cobj,callback:function(t){e.$set(e.eventForm,"cobj",t)},expression:"eventForm.cobj"}},e._l(e.objectList,(function(e){return l("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1)],1),l("el-form-item",{attrs:{label:"Attribute2",prop:"catt"}},[l("el-select",{model:{value:e.eventForm.catt,callback:function(t){e.$set(e.eventForm,"catt",t)},expression:"eventForm.catt"}},e._l(e.filterAttrList(e.eventForm.cobj),(function(e){return l("el-option",{key:e+"catt",attrs:{label:e,value:e}})})),1)],1),l("el-form-item",{attrs:{label:"Category",prop:"catt"}},[l("el-select",{model:{value:e.eventForm.acat,callback:function(t){e.$set(e.eventForm,"acat",t)},expression:"eventForm.acat"}},e._l(e.EventCategory,(function(e){return l("el-option",{key:e.val,attrs:{label:e.val,value:e.val}})})),1)],1),l("el-form-item",{attrs:{label:"Subroutine",prop:"subr"}},[l("el-input-number",{attrs:{controls:!1,precision:0},model:{value:e.eventForm.subr,callback:function(t){e.$set(e.eventForm,"subr",t)},expression:"eventForm.subr"}})],1),l("el-form-item",[l("el-button",{on:{click:e.submitNewEvent}},[e._v("submit")])],1)],1)],1)],1)},a=[],r=(l("8e6e"),l("ac6a"),l("456d"),l("7f7f"),l("0d6d"),l("bd86")),i=l("7de8"),o=l("f121"),s=l("ed08"),u=l("2f62"),c=l("db50");function b(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,n)}return l}function v(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?b(l,!0).forEach((function(t){Object(r["a"])(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):b(l).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}var m={mixins:[i["a"]],data:function(){return{dialogTableVisible:!1,eventForm:{},eventFormRules:{},objectList:[],Operator:o["d"],EventCategory:o["c"],multipleSelection:[]}},created:function(){this.resultData.length||(this.$message.error("please setup object!"),this.$router.push({name:"Setup-objectAndDriver"})),this.init()},computed:v({},Object(u["d"])({resultData:function(e){return e.SetUpData.objectData},msgd:function(e){return e.SetUpData.eventData}})),methods:v({init:function(){this.buildObjectList()},handleSubmit:function(){this.$router.push({name:"Setup-overview"})},addEvent:function(){this.dialogTableVisible=!0},submitNewEvent:function(){var e=this;this.$refs.eventForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.addEventData(Object(s["a"])(e.eventForm)),e.dialogTableVisible=!1}))},close:function(){this.eventForm={},this.$refs.eventForm&&this.$refs.eventForm.clearValidate()},buildObjectList:function(){for(var e=[],t=0,l=this.resultData?this.resultData.length:0;t<l;t++)for(var n=this.resultData[t],a=0,r=n.objd||[],i=r.length;a<i;a++)for(var o=r[a],s=o.objn,u=o.preAndSuff,c=o.oatt,b=c.map((function(e){return e.attn})),v=0,m=u.length;v<m;v++)e.push({name:"".concat(u[v]["pref"],"_").concat(s,"_").concat(u[v]["suff"]),attr:b});this.objectList=Object.freeze(e)},filterAttrList:function(e){if(!e)return[];for(var t=0,l=this.objectList.length;t<l;t++){var n=this.objectList[t];if(n.name===e)return n["attr"]}return[]},handleDelete:function(){var e=this;this.multipleSelection.length&&this.$confirm("Are you sure delete these event?","delete event",{confirmButtonText:"yes",cancelButtonText:"no",type:"warning"}).then((function(){e.deleteEventData(e.multipleSelection)})).catch((function(){}))}},Object(u["c"])(["addEventData","deleteEventData"])),components:{EventTable:c["default"]}},d=m,f=(l("cc15"),l("2877")),p=Object(f["a"])(d,n,a,!1,null,"1f771e00",null);t["default"]=p.exports},"0d6d":function(e,t,l){var n=l("d3f4"),a=l("67ab").onFreeze;l("5eda")("freeze",(function(e){return function(t){return e&&n(t)?e(a(t)):t}}))},"28a5":function(e,t,l){"use strict";var n=l("aae3"),a=l("cb7c"),r=l("ebd6"),i=l("0390"),o=l("9def"),s=l("5f1b"),u=l("520a"),c=l("79e5"),b=Math.min,v=[].push,m="split",d="length",f="lastIndex",p=4294967295,h=!c((function(){RegExp(p,"y")}));l("214f")("split",2,(function(e,t,l,c){var g;return g="c"=="abbc"[m](/(b)*/)[1]||4!="test"[m](/(?:)/,-1)[d]||2!="ab"[m](/(?:ab)*/)[d]||4!="."[m](/(.?)(.?)/)[d]||"."[m](/()()/)[d]>1||""[m](/.?/)[d]?function(e,t){var a=String(this);if(void 0===e&&0===t)return[];if(!n(e))return l.call(a,e,t);var r,i,o,s=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),b=0,m=void 0===t?p:t>>>0,h=new RegExp(e.source,c+"g");while(r=u.call(h,a)){if(i=h[f],i>b&&(s.push(a.slice(b,r.index)),r[d]>1&&r.index<a[d]&&v.apply(s,r.slice(1)),o=r[0][d],b=i,s[d]>=m))break;h[f]===r.index&&h[f]++}return b===a[d]?!o&&h.test("")||s.push(""):s.push(a.slice(b)),s[d]>m?s.slice(0,m):s}:"0"[m](void 0,0)[d]?function(e,t){return void 0===e&&0===t?[]:l.call(this,e,t)}:l,[function(l,n){var a=e(this),r=void 0==l?void 0:l[t];return void 0!==r?r.call(l,a,n):g.call(String(a),l,n)},function(e,t){var n=c(g,e,this,t,g!==l);if(n.done)return n.value;var u=a(e),v=String(this),m=r(u,RegExp),d=u.unicode,f=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(h?"y":"g"),S=new m(h?u:"^(?:"+u.source+")",f),y=void 0===t?p:t>>>0;if(0===y)return[];if(0===v.length)return null===s(S,v)?[v]:[];var F=0,E=0,j=[];while(E<v.length){S.lastIndex=h?E:0;var w,O=s(S,h?v:v.slice(E));if(null===O||(w=b(o(S.lastIndex+(h?0:E)),v.length))===F)E=i(v,E,d);else{if(j.push(v.slice(F,E)),j.length===y)return j;for(var k=1;k<=O.length-1;k++)if(j.push(O[k]),j.length===y)return j;E=F=w}}return j.push(v.slice(F)),j}]}))},"7de8":function(e,t,l){"use strict";l("7f7f"),l("28a5");t["a"]={mounted:function(){document.title=this.$route.name.split("-")[0]}}},b0f5:function(e,t,l){},cc15:function(e,t,l){"use strict";var n=l("b0f5"),a=l.n(n);a.a},db50:function(e,t,l){"use strict";l.r(t);var n=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.eventList,border:"",height:e.showBtn?"500":""},on:{"selection-change":e.handleSelectionChange}},[e.showBtn?l("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),l("el-table-column",{attrs:{"min-width":e.minWidth,prop:"sobj",label:"Object1"}}),l("el-table-column",{attrs:{prop:"satt",label:"Attribute1","min-width":e.minWidth}}),l("el-table-column",{attrs:{prop:"msgt","min-width":e.minWidth,label:"Type"}}),l("el-table-column",{attrs:{prop:"cobj","min-width":e.minWidth,label:"Object2"}}),l("el-table-column",{attrs:{prop:"catt","min-width":e.minWidth,label:"Attribute2"}}),l("el-table-column",{attrs:{prop:"acat","min-width":e.minWidth,label:"Category"}}),l("el-table-column",{attrs:{prop:"subr","min-width":e.minWidth,label:"Sub"}})],1)},a=[],r={props:{value:{type:Array},showBtn:{type:Boolean,default:!1},eventList:{type:Array,required:!0}},data:function(){return{minWidth:"120",multipleSelection:[]}},methods:{handleSelectionChange:function(e){this.multipleSelection=e,this.$emit("input",this.multipleSelection)}},watch:{value:function(e){this.multipleSelection=e}}},i=r,o=l("2877"),s=Object(o["a"])(i,n,a,!1,null,"31e5c1b4",null);t["default"]=s.exports},f121:function(e,t,l){"use strict";l.d(t,"b",(function(){return n})),l.d(t,"f",(function(){return a})),l.d(t,"a",(function(){return r})),l.d(t,"d",(function(){return i})),l.d(t,"c",(function(){return o})),l.d(t,"e",(function(){return s})),l.d(t,"g",(function(){return u}));var n=[{val:"mbstcp",label:"Modbus TCP"},{val:"ethip",label:"Allen - Bradley Ethernet / IP"},{val:"mele71",label:"Mitsubishi MC Protocol for MELSEC - Q and E71 module"},{val:"finstc",label:"Omron FINS on TCP"},{val:"s7iso",label:"Siemens Industrial Ethernet ISO for S7 - 300 / 400"},{val:"siefw",label:"Siemens Fetch Write for S7 - 300 / 400 and CP443 module"},{val:"tsxmbt",label:"Schneider Modbus TCP"}],a=[{val:"mbsrtu",label:"Modbus RTU"},{val:"df1hp2",label:"Allen - Bradley DF1 half - duplex for PLC2"},{val:"df1hp5",label:"Allen - Bradley DF1 half - duplex for PLC5"},{val:"fxnpro",label:"Mitsubishi FX0N / FX0S / FX1N / FX1S / FX2"},{val:"fxdpro",label:"Mitsubishi FX 232ADP / 485BD / 232BD Module"},{val:"fx3u3g",label:"Mitsubishi FX2N / FX3U / FX3G / FX3S"},{val:"melc24",label:"Mitsubishi MC Protocol full - duplex for MELSEC - Q and C24 module"},{val:"finshl",label:"Omron FINS on Host Link"},{val:"omrhls",label:"Omron Host Link(single)"},{val:"omrhlm",label:"Omron Host Link(multiple)"},{val:"s539rk",label:"Siemens 3964R / RK512 for S5"},{val:"s739rk",label:"Siemens 3964R / RK512 for S7"},{val:"tsxmbr",label:"Schneider Modbus RTU"},{val:"unite",label:"Schneider Telemecanique UNI - TE"},{val:"comli",label:"ABB SattControl Comli"}],r=[{val:"word"},{val:"uword"},{val:"dword"},{val:"udword"},{val:"float"},{val:"double"},{val:"bit"}],i=[{val:">"},{val:">="},{val:"=="},{val:"<"},{val:"<="},{val:"!="},{val:"&"},{val:"^"},{val:"|"}],o=[{val:"critical"},{val:"alarm"},{val:"warning"},{val:"event"},{val:"view"}],s=[{val:"COMMENT"},{val:"DECLARE"},{val:"INIT"},{val:"DO"},{val:"IF"},{val:"THEN"},{val:"ELSE IF"},{val:"ELSE"},{val:"POS"}],u=[{label:"VIEW(0)",key:0},{label:"OPERATOR(1)",key:1},{label:"FOREMAN(2)",key:2},{label:"MAINENANCE(3)",key:3},{label:"SUPERVISOR(4)",key:4},{label:"ENGINEER(5)",key:5},{label:"DESIGNER(6)",key:6},{label:"MANAGER(7)",key:7}]}}]);
//# sourceMappingURL=chunk-22140273.972724bb.js.map