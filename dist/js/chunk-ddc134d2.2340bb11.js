(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ddc134d2","chunk-b4c6cfb4"],{"0fee":function(t,e,i){},"1b62":function(t,e,i){"use strict";e["a"]={computed:{tableHeight:function(){return window.innerHeight-60-50-40-50-20}}}},"47f8":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.attributeList,border:"",height:t.showBtn?t.tableHeight:null},on:{"selection-change":t.handleSelectionChange}},[t.showBtn?i("el-table-column",{attrs:{type:"selection",width:"55"}}):t._e(),i("el-table-column",{attrs:{prop:"attn","min-width":t.minWidth,label:"Name"}}),i("el-table-column",{attrs:{prop:"attt","min-width":t.minWidth,label:"Type"}}),i("el-table-column",{attrs:{prop:"deci","min-width":t.minWidth,label:"D"}}),i("el-table-column",{attrs:{label:"Key: Address","min-width":"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",t._l(e.row.aadd,(function(e){return i("div",{key:t.getFullName(e.pref,e.suff),staticClass:"addrs"},[t._v("\n          "+t._s(t.getFullName(e.pref,e.suff))+":\n          Â \n          "+t._s(e.addr)+"\n        ")])})),0)]}}])}),i("el-table-column",{attrs:{prop:"adis","min-width":t.minWidth,label:"T"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(e.row.adis?"YES":"NO")+"\n    ")]}}])}),i("el-table-column",{attrs:{prop:"achg","min-width":t.minWidth,label:"C"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(e.row.achg?"YES":"NO")+"\n    ")]}}])}),i("el-table-column",{attrs:{prop:"attr","min-width":t.minWidth,label:"RW"}}),i("el-table-column",{attrs:{prop:"rtim","min-width":t.minWidth,label:"Rtime"}}),t.showBtn?i("el-table-column",{attrs:{label:"Address","min-width":t.minWidth},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.addAddress(e.row)}}},[t._v("Address")])]}}],null,!1,667500208)}):t._e()],1)},a=[],l=i("1b62"),n={mixins:[l["a"]],props:{value:{type:Array},showBtn:{type:Boolean,default:!1},attributeList:{type:Array,required:!0},objectName:{type:String,required:!0}},data:function(){return{minWidth:"40",multipleSelection:[]}},methods:{addAddress:function(t){this.$emit("add",t)},handleSelectionChange:function(t){this.multipleSelection=t,this.$emit("input",this.multipleSelection)},getFullName:function(t,e){return"".concat(t,"_").concat(this.objectName,"_").concat(e)}},watch:{value:function(t){this.multipleSelection=t}}},u=n,o=(i("ca28"),i("2877")),s=Object(o["a"])(u,r,a,!1,null,"261188cb",null);e["default"]=s.exports},a6a8:function(t,e,i){},bdbe:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Container",{attrs:{type:"card-full",scorll:!1}},[i("div",{staticClass:"row flex"},[i("div",{staticClass:"dd-title"},[t._v("Attribute")]),i("div",[i("el-button",{on:{click:function(e){return t.$router.go(-1)}}},[t._v("Back")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogTableVisible=!0}}},[t._v("Create")]),i("el-button",{attrs:{type:"danger"},on:{click:t.handleDelete}},[t._v("Delete")]),i("el-button",{on:{click:t.handleDummy}},[t._v("Dummy")]),i("el-button",{attrs:{type:"primary",disabled:!t.canSubmit},on:{click:t.handleSubmit}},[t._v("Submit")])],1)]),i("div",[i("AttrbuteTable",{attrs:{attributeList:t.attributeList,showBtn:!0,objectName:t.objn},on:{add:t.addAddress},model:{value:t.multipleSelection,callback:function(e){t.multipleSelection=e},expression:"multipleSelection"}})],1),i("el-dialog",{attrs:{title:"Data Attribute Setup",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e},closed:t.close}},[i("el-form",{ref:"AttributeSetupFrom",attrs:{model:t.AttributeSetupFrom,rules:t.AttributeSetupFromRules,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"Attribute name",prop:"attn"}},[i("el-input",{model:{value:t.AttributeSetupFrom.attn,callback:function(e){t.$set(t.AttributeSetupFrom,"attn",e)},expression:"AttributeSetupFrom.attn"}})],1),i("el-form-item",{attrs:{label:"Attribute type",prop:"attn"}},[i("el-select",{model:{value:t.AttributeSetupFrom.attt,callback:function(e){t.$set(t.AttributeSetupFrom,"attt",e)},expression:"AttributeSetupFrom.attt"}},t._l(t.AttributeTypeList,(function(t){return i("el-option",{key:t.val,attrs:{label:t.val,value:t.val}})})),1)],1),t.showDecimal?i("el-form-item",{attrs:{label:"Decimal",prop:"deci"}},[i("el-input-number",{attrs:{controls:!1,precision:0,min:0},model:{value:t.AttributeSetupFrom.deci,callback:function(e){t.$set(t.AttributeSetupFrom,"deci",e)},expression:"AttributeSetupFrom.deci"}})],1):t._e(),i("el-form-item",{attrs:{label:"Display",prop:"adis"}},[i("el-radio-group",{model:{value:t.AttributeSetupFrom.adis,callback:function(e){t.$set(t.AttributeSetupFrom,"adis",e)},expression:"AttributeSetupFrom.adis"}},[i("el-radio",{attrs:{label:1}},[t._v("Yes")]),i("el-radio",{attrs:{label:0}},[t._v("No")])],1)],1),i("el-form-item",{attrs:{label:"Change",prop:"achg"}},[i("el-radio-group",{model:{value:t.AttributeSetupFrom.achg,callback:function(e){t.$set(t.AttributeSetupFrom,"achg",e)},expression:"AttributeSetupFrom.achg"}},[i("el-radio",{attrs:{label:1}},[t._v("Yes")]),i("el-radio",{attrs:{label:0}},[t._v("No")])],1)],1),i("el-form-item",{attrs:{label:"Direction",prop:"attr"}},[i("el-radio-group",{model:{value:t.AttributeSetupFrom.attr,callback:function(e){t.$set(t.AttributeSetupFrom,"attr",e)},expression:"AttributeSetupFrom.attr"}},[i("el-radio",{attrs:{label:"R"}},[t._v("R")]),i("el-radio",{attrs:{label:"W"}},[t._v("W")]),i("el-radio",{attrs:{label:"R/W"}},[t._v("R/W")])],1)],1),t.showReadTime?i("el-form-item",{attrs:{label:"Read time",prop:"rtim"}},[i("el-input-number",{attrs:{controls:!1,precision:0,min:0},model:{value:t.AttributeSetupFrom.rtim,callback:function(e){t.$set(t.AttributeSetupFrom,"rtim",e)},expression:"AttributeSetupFrom.rtim"}})],1):t._e()],1),i("el-button",{on:{click:t.submitAttributeSetupFrom}},[t._v("submit")])],1),i("el-dialog",{attrs:{title:"Data Address Setup",visible:t.addressVisible},on:{closed:t.addressClosed,"update:visible":function(e){t.addressVisible=e}}},[i("el-table",{staticClass:"dd-mb",attrs:{data:t.preAndSuff,border:""}},[i("el-table-column",{attrs:{label:"Index",width:t.minWidth},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.obix+1)+"\n        ")]}}])}),i("el-table-column",{attrs:{prop:"pref",width:t.minWidth,label:"Prefix"}}),i("el-table-column",{attrs:{label:"Suffix",width:t.minWidth,prop:"suff"}}),i("el-table-column",{attrs:{label:"Address"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input",{model:{value:e.row.addr,callback:function(i){t.$set(e.row,"addr",i)},expression:"scope.row.addr"}})]}}])})],1),i("el-button",{attrs:{type:"primary"},on:{click:t.addressSubmit}},[t._v("submit")])],1)],1)},a=[],l=(i("8e6e"),i("456d"),i("75fc")),n=(i("ac6a"),i("6762"),i("2fdb"),i("bd86")),u=i("ed08"),o=i("f121"),s=i("47f8"),c=i("2f62");function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function b(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(i,!0).forEach((function(e){Object(n["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var m={data:function(){return{minWidth:80,objn:"",preAndSuff:[],dialogTableVisible:!1,attributeList:[],AttributeSetupFrom:{},AttributeSetupFromRules:{attn:[{required:!0,message:"pleace input Name",trigger:"blur"},{max:30,message:"max 30",trigger:"blur"}],attt:[{required:!0,message:"pleace select Type",trigger:"blur"}],deci:[{required:!0,message:"pleace input Decimal",trigger:"blur"}],adis:[{required:!0,message:"pleace select Display",trigger:"blur"}],achg:[{required:!0,message:"pleace select Change",trigger:"blur"}],attr:[{required:!0,message:"pleace select Direction",trigger:"blur"}],rtim:[{required:!0,message:"pleact input Time",trigger:"blur"}]},AttributeTypeList:o["a"],addressVisible:!1,activeAttributeRow:{},multipleSelection:[]}},methods:b({close:function(){},addressClosed:function(){this.preAndSuff.addr=""},getFullName:function(t,e){return"".concat(t,"_").concat(this.objn,"_").concat(e)},submitAttributeSetupFrom:function(){var t=this;this.$refs.AttributeSetupFrom.validate((function(e){if(!e)return console.log("error submit!!"),!1;t.attributeList.push(b({},t.AttributeSetupFrom,{aadd:t.preAndSuff})),t.dialogTableVisible=!1,t.AttributeSetupFrom={}}))},handleSubmit:function(){this.setObjectAttribute({name:this.objn,attributeList:this.attributeList}),this.$router.push({name:"Setup-objectAndDriver"})},addAddress:function(t){this.activeAttributeRow=t,t.aadd.length&&(this.preAndSuff=Object(u["a"])(t.aadd)),this.addressVisible=!0},addressSubmit:function(){this.addressVisible=!1,this.$set(this.activeAttributeRow,"aadd",Object(u["a"])(this.preAndSuff)),this.resetPreAndSuff()},resetPreAndSuff:function(){this.preAndSuff=this.preAndSuff.map((function(t){return t.addr="",t}))},handleDelete:function(){var t=this;this.multipleSelection.length&&this.$confirm("Are you sure delete these attribute?","delete attribute",{type:"warning"}).then((function(){var e=t.multipleSelection.map((function(t){return t.attn}));t.attributeList=t.attributeList.filter((function(t){return!e.includes(t.attn)})),t.setObjectAttribute({name:t.objn,attributeList:t.attributeList})})).catch((function(){}))},handleDummy:function(){this.multipleSelection.length&&(this.multipleSelection.forEach((function(t){t.attr="-",t.rtim=0,t.aadd.forEach((function(t){return t.addr="-",t}))})),console.log(this.multipleSelection))},init:function(){var t=this,e=this.$route.params.data;e&&(this.objn=e,this.objectData.some((function(i){if(i.objn===e)return i.preAndSuff?t.preAndSuff=Object(l["a"])(i.preAndSuff):t.preAndSuff=i.oatt[0].aadd.map((function(t){return{pref:t.pref,obix:t.obix,suff:t.suff,addr:""}})),i.oatt&&(t.attributeList=i.oatt),!1})))}},Object(c["c"])(["setObjectAttribute"])),computed:b({showDecimal:function(){return this.AttributeSetupFrom.attt&&-1!==this.AttributeSetupFrom.attt.indexOf("word")},showReadTime:function(){return this.AttributeSetupFrom.attr&&"W"!==this.AttributeSetupFrom.attr},canSubmit:function(){return this.attributeList.length&&this.attributeList.every((function(t){return!t.aadd.some((function(t){return""===t.addr}))}))}},Object(c["d"])({objectData:function(t){return t.SetUpData.objectData}})),watch:{"AttributeSetupFrom.attt":function(t){this.AttributeSetupFrom.deci=0}},created:function(){this.init()},beforeRouteEnter:function(t,e,i){t.params.data?i():i({name:"index"})},components:{AttrbuteTable:s["default"]}},p=m,f=(i("c899"),i("2877")),h=Object(f["a"])(p,r,a,!1,null,"79dea61e",null);e["default"]=h.exports},c899:function(t,e,i){"use strict";var r=i("0fee"),a=i.n(r);a.a},ca28:function(t,e,i){"use strict";var r=i("a6a8"),a=i.n(r);a.a},f121:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"b",(function(){return l})),i.d(e,"d",(function(){return n})),i.d(e,"e",(function(){return u}));var r=[{val:"word"},{val:"uword"},{val:"dword"},{val:"udword"},{val:"float"},{val:"double"},{val:"bit"}],a=[{val:">"},{val:">="},{val:"=="},{val:"<"},{val:"<="},{val:"!="},{val:"&"},{val:"^"},{val:"|"}],l=[{val:"critical"},{val:"alarm"},{val:"warning"},{val:"event"},{val:"view"}],n=[{val:"COMMENT"},{val:"DECLARE"},{val:"INIT"},{val:"DO"},{val:"IF"},{val:"THEN"},{val:"ELSE IF"},{val:"ELSE"},{val:"POS"}],u=[{label:"VIEW(0)",key:0},{label:"OPERATOR(1)",key:1},{label:"FOREMAN(2)",key:2},{label:"MAINENANCE(3)",key:3},{label:"SUPERVISOR(4)",key:4},{label:"ENGINEER(5)",key:5},{label:"DESIGNER(6)",key:6},{label:"MANAGER(7)",key:7}]}}]);
//# sourceMappingURL=chunk-ddc134d2.2340bb11.js.map